================
VPVM 取扱説明書
================

VPVM とは
===========

VPVM は MikuMikuDance (以下 MMD) [#]_ の互換実装として作られた MMDAgent [#]_ から派生したアプリケーションです。歴史的経緯として最初に MMDAgent を Windows 以外に対応させたアプリケーションとして MMDAI が作成され、その後 MMDAI で使われていたライブラリを土台に MMD のクローンとして MMDAI2 が公開されました。これを再設計して実装したものが VPVM となります。

VPVM は MMD と異なり、Windows 以外の OS で動くように設計されています。VPVM は簡単に言うと以下のことが出来ます。

 - PMD/PMX/X 形式のモデルの読み込み
 - ポーズ含むモーションの読み込み、再生、編集及び VMD/MVD 形式での保存
 - 動画形式での出力

VPVM は以下のことが出来ません。

 - PMD/PMX 形式のモデルの編集及び保存

VPVM は MMDAgent と同じく３条項 BSD ライセンス（別名修正 BSD ライセンスと呼ばれる） [#]_ を採用したオープンソースのソフトウェアとして公開されており、github [#]_ 上でソースコードを見ることが出来ます。

VPVM のインターフェース
=======================

VPVM のインターフェースは大きく分けて３つに分けられます。

:タイムライン: モデルのボーン及びモーフを選択したり、キーフレームを登録したり削除したりするために使われます。画面左上にあります。

:プレビュー: モデルを表示する画面です。画面右側にあります。

:プロパティタブ: タイムラインまたはモデルを数値で操作したり設定するための画面です。画面下にあります。

ここではそれぞれの詳しい説明をします。

タイムライン
------------

VPVM の立ち上げ時はモデル及びモーションが何もない状態となります。この時タイムラインにモデルの読み込みを促す説明が表示されるので、以下の操作をすることによってこの状態から遷移する事が出来ます。

 - メニューの「ファイル」「モデルを読み込む」からモデルを読み込む
 - タイムラインをクリックする

前者を実行してファイルダイアログを開いて確認ダイアログに同意すると、そのモデルが選択されてタイムライン上で空のモーションが作成された状態で読み込まれてモーション編集画面に移動します。

後者を実行すると一旦モデル選択画面に遷移します。この時「モデルまたはアクセサリを追加する」を選択すると前者と同じように行われます。また、モデル以外にも「カメラ」及び「光源」が選択可能です。それらを選択した場合はそれぞれのモーション編集画面に移動します。

モーション編集画面ではモデルのボーン及びモーフ名のカテゴリ名が表示され、カテゴリ名をクリックすることによってカテゴリ以下が展開されてその中のボーン名またはモーフ名をクリックすることによって対応するボーン及びモーフを選択することが出来ます。この状態でボーンまたはモーフを動かすことによって現在位置のボーンまたはモーフに対して自動的にキーフレームが登録されます。

タイムラインの縦長の赤い線は現在位置となっており、これをドラッグするか、あるいは時間の表示部分にクリックすると現在位置を移動させることが出来ます。この機能はプロパティタブの「時間及び現在位置の設定」の「再生位置」と同一です。

また、タイムラインの左下のボタンはタイムラインのサスペンダーとなっており、タイムラインの拡縮を行うことが出来ます。右側に移動させると縮小され、左側に移動させると拡大することが出来ます。この機能はプロパティタブの「時間及び現在位置の設定」の「拡大率」と同一です。

モーション編集画面では左上に４つのボタンがあり、左から順に「モデル選択画面の移動」、「プレビューの再生」、「プレビューの一時停止」、「プレビューの停止」の機能を持ちます。

:モデル選択画面の移動:

モデル選択画面に遷移し、別のモデル、カメラまたは光源のモーション編集に移動する事ができます。遷移前のモデルが選択された場合は遷移前のモデルのボーン及びモーフの選択状態が復元されます。

:プレビューの再生:

プレビューを再生します。プレビュー再生中はモーション編集及びプロパティタブの操作が不可能になります。

:プレビューの一時停止:

再生中のプレビューを一時停止します。再度再生する場合は「プレビューの再生」を選択することによって一時停止した場所から再生します。

:プレビューの停止:

再生中のプレビューを停止して現在位置を 0 に強制的に移動させます。ただし動画書き出し時にエンコード中状態に入った場合はエンコードをキャンセルする機能に変化します。

プレビュー
-----------

プロパティタブ
--------------

.. [#] http://www.geocities.jp/higuchuu4/index.htm
.. [#] http://mmdagent.jp/
.. [#] http://sourceforge.jp/projects/opensource/wiki/licenses%2Fnew_BSD_license
.. [#] https://github.com/hkrn/MMDAI/
