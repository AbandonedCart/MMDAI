# MMDAI2 の操作マニュアル

これは MMDAI2 の操作マニュアルです。
https://sites.google.com/sites/mmdaiproject/

# プロジェクト

プロジェクトはモデル、モーション、アクセサリをひとつにまとめて管理する情報のことです。
MMDAI2 は基本的にプロジェクト単位で行い、保存するときはプロジェクトにまとめます。
プロジェクトファイルは MMD のような pmm 形式ではなく xml 形式で保存されます。

プロジェクトファイルは xml 形式であるため、zip や 7z などで圧縮すると大幅に
ファイルサイズを小さくすることができます。また、定期的にバックアップをとってください。

## プロジェクトを新しく作る方法

メニューから「ファイル」の「新規プロジェクト作成」で新しくプロジェクトを作成することができます。
変更点がある場合「変更しますか」のダイアログが出ます。最初に立ち上げた状態は常に
新規にプロジェクトが作成されている状態になります。

プロジェクトの新規作成を行うとそれまでの全てのモデルやモーションやアクセサリが全て
破棄されるため、プロジェクトを破棄する場合はプロジェクトの新規作成を行ってください。
この処理は巻き戻すことが出来ません。

## プロジェクトの読み込み方法

方法は以下の３つあります。

 * メニューから「ファイル」の「プロジェクト読み込み」からプロジェクトのファイルを指定する
 * アプリケーションのウィンドウにプロジェクトのファイルに直接ドラッグ・アンド・ドロップする
 * アプリケーションのアイコンにプロジェクトのファイルを直接ドラッグ・アンド・ドロップする

いずれも変更点がある場合「変更しますか」のダイアログが出ます。また、読み込めない場合は
警告ダイアログが表示されます。読み込めない場合は以下を確認してください。
もし MMDAI2 で保存したのに読み込めない場合は開発者に連絡してください。

* xml 形式のファイルであり、かつ MMDAI2 で保存した xml ファイルであるかどうか?
* 重複した UUID がないかどうか?

プロジェクトを読み込むと「新規プロジェクト作成」と同じように前回のプロジェクトは破棄され、
読み込まれたプロジェクトに上書きされます。この処理は巻き戻すことが出来ません。

## プロジェクトの保存方法

メニューから「ファイル」の「プロジェクトを保存」または「プロジェクトを別名で保存」で保存できます。
前者は前回のファイル名で、後者はダイアログが開いて新しいファイル名を指定して保存します。
もし「プロジェクトの保存」で前回のファイル名がない場合は「プロジェクトを別名で保存」と同じです。

## プロジェクトの設定

プロジェクトの設定はメニューから「プロジェクト」で行うことが出来ます。
これらの情報はプロジェクトファイルに保存されます。

### 再生設定

再生の設定を行います。メニューの「プロジェクト」の「再生」または「再生設定」にある「再生」ボタンで
再生設定に従って場面を再生します。「音声のファイル名」が指定されている場合は音声を再生し、
出力します。

#### 音声のファイル名

再生時に再生される音声ファイルを指定します。「開く(Open)」ボタンでファイルダイアログが表示され、
ファイルを指定すると左側のテキストボックスにダイアログで指定したパス名が表示されます。
このパス名は直接編集することができます。

音声ファイルは以下の条件を「全て」満たす必要があります。
ひとつでも満たさないと再生しても音声が流れません。

 * 音声ファイルが存在すること
 * 音声ファイルのフォーマットが WAV 形式 (拡張子は .wav) であること
 * 音声ファイルのコーデックが PCM 16bit Little Endian であること
 * 音声ファイルの周波数が 44KHz (44100Hz) であること
 
 普通音声ファイルは MP3 や AAC などでエンコードされるため、MMDAI2 で使う際は上記の条件に
 合致するようにデコードを行う必要があります。MP3 や AAC のような不可逆形式の場合は仕様上
 エンコード前の元の音質と同じ (厳密に言うと近くなるだけ) にすることは出来ません。

#### フレーム開始位置

再生時のフレームの開始位置を指定します。途中から再生したい場合はこの値を変更してください。
デフォルトでは 0 が指定されます。

#### フレーム終了位置

再生時のフレームの終了位置を指定します。通常はモーションの終了位置を指定しますが、
途中で終了したい場合はこの値を変更してください。
デフォルトではモーションの終了位置が指定されます。

#### 場面の FPS

再生時の FPS (Frame Per Second) の「限度」を指定します。モデルやアクセサリによっては
描画負荷の影響で「場面の FPS」で指定した値を下回ることがあります。
場面の FPS は 30FPS / 60FPS / 120FPS の3つから選択します。
デフォルトでは 60 FPS が指定されます。

#### 繰り返し再生

「フレームの終了位置」に到達したら「フレームの開始位置」に戻って再び再生するかを指定します。
「繰り返し再生」を有効にした場合進捗ダイアログの「キャンセル」で終了する必要があります。
デフォルトでは無効です。

#### 選択状態にする

モデルを選択状態のままにし、タイムラインと同期するかを指定します。「選択状態にする」を
有効にした場合負荷が高くなるため、FPS が落ちます。
デフォルトでは無効です。

#### ボーンの接続状態を表示する

モデルのボーンの接続状態を表示したまま再生するかを指定します。
ボーンの動きを確認する場合は有効にしてください。負荷は小さいため、基本的に
「選択状態にする」程 FPS が下がることはありません。デフォルトでは無効です。

### 重力設定

物理シミュレーションで用いられる重力の設定を行います。値を負にすると重力と同じ方向を、
正にすると逆に常に浮いているようなフワフワする表現をすることができます。
負の値を大きくしすぎるとモデルがつぶれてしまいますのでご注意ください。
デフォルトでは現実と同じ (X=0.0, Y=-9.8, Z=0.0) です。

### 描画順設定 (Render order setting)

モデルまたはアクセサリの描画順を設定します。描画順は上にいくほど先に、
下にいくほど後に描画されます。ボタンで上下を変更できる他、モデル名またはアクセサリ名を
ドラッグ・アンド・ドロップによって変更することが出来ます。

### アクセラレーションの有効化

OpenCL を使って描画速度を上げます。どれくらい高速になるかはマシンの CPU/GPU に
強く依存します。有効にすると場合によってはアプリケーションが不安定になるかもしれません。
デフォルトでは無効です。また、この機能は MacOSX のみ利用可能です。

### 物理シミュレーションの有効化

Bullet Physics を使って物理シミュレーションを有効にします。物理シミュレーションは
再生またはエンコード時のみ有効になり、編集中は常に無効の状態になります。
デフォルトでは有効です。

### グリッドの表示

位置調整の参考として地面に 5.0 単位で 20x20 の格子状のグリッドが描画されます。
デフォルトでは有効です。

### 背景を黒に設定する

背景を黒に設定することが出来ます。デフォルトでは無効で、背景は白で描画されます。

# モデル

モデルは MMD で利用される PMD 形式で読み込み可能なファイルのことです。
現時点で PMX 形式を読み込むことが出来ません。

## モデルの読み込み方法

モデルの追加方法は５つあります。

 * ウィンドウ上部の「モデルを追加」からモデルのファイルを指定する
 * メニューから「ファイル」の「モデルを追加」からモデルのファイルを指定する
 * 右側の描画ウィンドウを右クリックし、「モデルを追加」からモデルのファイルを指定する
 * アプリケーションのウィンドウにモデルのファイルに直接ドラッグ・アンド・ドロップする
 * アプリケーションのアイコンにモデルのファイルを直接ドラッグ・アンド・ドロップする

モデルを読み込むとモデルの説明のダイアログが表示され、「OK」で実際にモデルが読み込まれます。
「キャンセル」でモデルの読み込みを行わず、描画もされません。モデルが読み込まれると左上の
情報パネルの「Model:」にモデル名が表示され、センターボーンが指定されます。

0.20.0 から zip 形式のファイルの読み込みに対応しています。注意点として zip ひとつにつき
ひとつのモデルしか読みこむことが出来ません。そのため、封数のモデルがある場合は最初の

## モデルの操作

モデルの操作はメニューの「モデル」からモデルの選択及びモデルの位置を変えることができます。
モデルの削除のみメニューの「編集」の「選択されたモデルの削除」で行います。

以下のモデル位置の設定はキーフレームとは独立して設定されます。また、
現時点でプロジェクトに保存されません。

### モデルを選択

プロジェクト内にあるモデルをの一覧からモデルを選択します。選択されたモデルは右側の
ウィンドウの左上の「Model:」に選択されたモデル名が表示されます。

### 次のモデルを選択

現在選択されているモデルの次のモデルを選択します。現在選択されているモデルが最後の場合、
最初のモデルが選択されます。「モデルを選択」で現在のモデルのすぐ下(または最初)を選択する
ことと同じです。

### 前のモデルを選択

現在選択されているモデルの前のモデルを選択します。現在選択されているモデルが最初の場合、
最後のモデルが選択されます。「モデルを選択」で現在のモデルのすぐ上(または最後)を選択する
ことと同じです。

### 選択されたモデルを上に移動

現在選択されているモデルを移動量 1.0 固定で Y 軸にそって上に移動します。
これによって処理されたモデル位置はキーフレームとは独立して設定されます。

### 選択されたモデルを下に移動

現在選択されているモデルを移動量 1.0 固定で Y 軸にそって下に移動します。
これによって処理されたモデル位置はキーフレームとは独立して設定されます。

### 選択されたモデルを左に移動

現在選択されているモデルを移動量 1.0 固定で X 軸にそって左に移動します。
これによって処理されたモデル位置はキーフレームとは独立して設定されます。

### 選択されたモデルを右に移動

現在選択されているモデルを移動量 1.0 固定で X 軸にそって右に移動します。
これによって処理されたモデル位置はキーフレームとは独立して設定されます。

### モデルの位置を戻す

現在選択されているモデルを初期状態の位置 (X=0.0, Y=0.0, Z=0.0) に戻します。
これによって処理されたモデル位置はキーフレームとは独立して設定されます。

## モデルの削除

現在選択されているモデルを削除します。削除前にダイアログを表示して OK で削除します。
キャンセルした場合モデルは削除されません。削除するとひもづけられているモーションの
キーフレーム操作の巻き戻しが出来なくなります。

モデルの削除はメニューの「編集」の「選択されたモデルの削除」にあります。

## モデルタブ

ウィンドウ左側の下のタブにある「モデル」は「情報」、「モーフ」、「補間」のタブがあります。

### 情報

情報は読み込まれた情報のモデルの情報を表示とエッジ幅及び色、投影影の設定が出来ます。
モデルの情報は以下の情報が表示されます。モデルが選択されていない、またはモデルが
何もない場合は名前とコメントが「N/A」に、それ以外は 0 に設定されます。

 * 名前
 * コメント
 * 頂点数
 * インデックス数
 * 材質マテリアル数
 * ボーン数
 * IK 数
 * モーフ数 (頂点モーフ)
 * 剛体数
 * コンストレイント(拘束条件、基本的にジョイントと呼ばれる)数

### エッジ幅

モデルのエッジ幅を設定することが出来ます。0.0 から 2.0 の間で設定することが出来ます。
0.0 にするとエッジを一切描画しなくなるため、わずかに描画負荷が軽くなります。
エッジ幅の設定はプロジェクトに保存されます。

### エッジ色

モデルのエッジ色を設定することが出来ます。エッジ色の設定はプロジェクトに保存されます。

### 投影影を有効にする

モデルの投影影を有効にします。デフォルトでは無効です。投影影の設定はプロジェクトに保存されます。

### モーフ

モーフはモデルの頂点モーフ(または表情とも呼ばれる)を操作します。
タイムラインのモーフはここで設定します。モーフは４つのカテゴリに分かれて操作します

 * 目 (Eye)
 * 口唇 (Lip)
 * 眉毛 (Eyeblow)
 * その他 (Other)
 
スライダーでモーフの値を変更することにより、モデルの頂点がそれに合わせて変化します。
「登録」で現在のフレーム位置にキーフレームが登録されます。「登録」を忘れるとフレームの位置
変更によってそれまで設定したモーフの値が破棄されるため、注意が必要です。

### 補間

※ まだ実装が不十分です

１つのキーフレームの補間曲線を変更します。X1/Y1 が開始位置、X2/Y2 が終了位置を示します。
スピンボックスの値を直接変更するか、あるいはグラフの赤丸をドラッグすることによって
補間曲線の値を変更することが出来ます。

リセットで補間曲線の値を元の値に戻します(X1=20, Y1=20, X2=107, Y2=107)。

ボーンの場合は以下の4項目で設定します。

 * X 軸
 * Y 軸
 * Z 軸
 * 回転

カメラの場合は以下の6項目で設定します。

 * X 軸
 * Y 軸
 * Z 軸
 * 回転
 * 視野角 (fovy)
 * 距離 (distance)
 
# アクセサリ
 
 アクセサリは X 形式で読み込み可能なファイルのことです。
 アクセサリによっては正しく描画出来ないことがあります。

## アクセサリの読み込み方法

アクセサリの追加方法は５つあります。

 * ウィンドウ上部の「アクセサリを追加」からアクセサリのファイルを指定する
 * メニューから「ファイル」の「アクセサリを追加」からアクセサリのファイルを指定する
 * 右側の描画ウィンドウを右クリックし、「アクセサリ」からアクセサリのファイルを指定する
 * アプリケーションのウィンドウにアクセサリのファイルに直接ドラッグ・アンド・ドロップする
 * アプリケーションのアイコンにアクセサリのファイルを直接ドラッグ・アンド・ドロップする

アクセサリを読み込むとウィンドウ左側の「場面」タブの「アクセサリ」にアクセサリの情報が追加されます。

0.20.0 から zip 形式のファイルの読み込みに対応しています。注意点として zip ひとつにつき
ひとつのアクセサリしか読みこむことが出来ません。そのため、複数のアクセサリがある場合は
最初に見つかったアクセサリが読みこまれます。

## アクセサリの操作

アクセサリの操作はウィンドウ左側の「場面」タブの「アクセサリ」で行います。

### アクセサリの選択と削除

一番上にアクセサリの一覧を示すプルダウンリストと「削除」ボタンがあります。
「削除」はプルダウンで指定されたアクセサリを削除します。この処理は巻き戻すことが出来ません。

### 割り当て

アクセサリの割り当てはアクセサリの表示基準を設定します。モデルが読み込まれて意ない場合は
地面のみ選択することが出来ます。モデルが読み込まれている場合は左側にモデルのプルダウンリスト、
右側にその選択されたモデルのボーンのプルダウンリストが表示されます。

モデルとボーンを指定するとそのボーンを基準にアクセサリが動きを追従します。
これはアクセサリをモデルの持ち物として扱う場合に利用します。

デフォルトは地面で、この場合アクセサリは不動となります。ステージ用のアクセサリで使います。

### 位置

アクセサリの相対位置を決定します。「割り当て」の位置に足す形で計算されます。
デフォルトは (X=0.0, Y=0.0, Z=0.0) です。

### 回転

アクセサリの相対回転値を決定します。「割り当て」の回転に結合する形で計算されます。
デフォルトは無回転 (X=0.0, Y=0.0, Z=0.0) です。

### 拡大率

アクセサリの拡大率を指定します。デフォルトは MMD と同じ 10 (=10.0) 倍です。

### 不透明度

アクセサリの不透明度を指定します。0.0 で完全に透明、1.0 で完全に不透明二することが出来ます。
この値を指定する場合描画順の変更が必要になることがあります。
デフォルトは完全に不透明 (=1.0) です。

# モーション

モーションは MMD で使用される VMD 形式で読み込み可能なファイルのことです。
モーションは場面またはモデルに対して用いられ、以下の５つに分けられます。

 * ボーン
 * モーフ
 * カメラ
 * 照明
 * セルフシャドウ
 
このうち対応しているのはボーンとモーフとカメラです。照明は現在内部的に利用可能にとどまり、
セルフシャドウは対応していません。ボーンとモーフはモデルに対して、カメラと照明は場面に対して
用いられます。

## モーションを新しく作る方法

メニューから「ファイル」の「新規モーション」で新しくモーションを作成することができます。
変更点がある場合「変更しますか」のダイアログが出ます。最初に立ち上げた状態は常に
新規にモーションが作成されている状態になります。

モーションの新規作成は場面及びモデル両方に適用される点にご注意ください。

## モーションを読み込む方法

方法は適用先がモデルか場面かによって方法によって分かれます。

モデルに対して適用されるモーションは以下の４つあります。全てあらかじめモデルを選択する必要があります。
また、モデルを選択しないままモーションの追加を行おうとすると警告ダイアログが表示されます。

 * ウィンドウ上部の「モーションを追加」からモーションのファイルを指定する
 * メニューから「ファイル」の「モーションを選択されたモデルに追加」からモーションのファイルを指定する
 * 右側の描画ウィンドウを右クリックし、「モーションを選択されたモデルに追加」からモーションのファイルを指定する
 * アプリケーションのウィンドウにモーションのファイルに直接ドラッグ・アンド・ドロップする
 
 カメラの場合はメニューの「ファイル」の「カメラモーションの設定」でモーションのファイルを指定すると
 場面のカメラモーションが適用されます。ただし、カメラのキーフレームがひとつもないと読み込まれません。
 
どちらも読み込む前に変更点がある場合「変更しますか」のダイアログが出ます。モーションのファイルを指定せず
キャンセルした場合は読み込まれません。

## モーションを保存する方法

モーションはモデル及び場面両方共全てのキーフレームがプロジェクトに保存されます。
以下はプロジェクトではなく、VMD として保存する方法です。

モデルに対して適用されるモーションの場合はメニューから「ファイル」の「モデルモーションを保存」または
「モデルモーションを別名で保存」で保存できます。前者は前回のファイル名で、後者はダイアログが開いて
新しいファイル名を指定して保存します。もし「モデルモーションを保存」で前回のファイル名がない場合は
「モデルモーションを別名で保存」と同じです。

保存時ファイのダイアログが開くので、ファイル名を指定します。指定後、全てのボーンとモーフの
キーフレームが出力され、 VMD として保存されます。それ以外のキーフレームは含まれません。

カメラに対して適用されるモーションの場合はメニューの「カメラモーションを別名で保存」で保存できます。
保存時ファイルのダイアログが開くので、ファイル名を指定します。指定後、全てのカメラのキーフレームが
出力され、VMD として保存されます。それ以外のキーフレームは含まれません。

# 場面

場面はウィンドウ右側に描写される画面のことです。場面は基本的にカメラの操作がメインです。

## 場面の操作

場面の操作はマウスか、メニューの「場面」、もしくは「場面」タブの「カメラ」タブで変更することが出来ます。

## マウスでの操作

ウィンドウ右側の場面描写にカーソルを合わせてマウス操作を行うことで場面の操作を行うことができます。

 * マウスホイールを前に転がす
   * カメラ視点の拡大
 * マウスホイールを後ろに転がす
   * カメラ視点の縮小
 * 左クリックをしながら上下左右に動かす
   * カメラアングルの変更
 * SHIFT 押しつつ左クリックしながら上下左右に動かす
   * カメラの目標点の変更

MMD ではカメラアングルの変更は右クリックですが、こちらは左クリックな点にご注意ください。

### 拡大

カメラ視点の拡大を行います。内部的には視野距離を -4.0 することと同等です。

### 縮小

カメラ視点の拡大を行います。内部的には視野距離を +4.0 することと同等です。

### 上に回転

カメラアングルを正面から見て上方向に回転します。
内部的にはカメラの X 軸に沿って +10.0 度することと同等です。

### 下に回転

カメラアングルを正面から見て下方向に回転します。
内部的にはカメラの X 軸に沿って -10.0 度することと同等です。

### 左に回転

カメラアングルを正面から見て左方向に回転します。
内部的にはカメラの Y 軸に沿って +10.0 度することと同等です。

### 右に回転

カメラアングルを正面から見て右方向に回転します。
内部的にはカメラの Y 軸に沿って -10.0 度することと同等です。

### 上に移動

カメラの目標点を正面から見て上方向に移動します。
内部的にはカメラの目標点を Y 軸に沿って +1.0 することと同等です。

### 下に移動

カメラの目標点を正面から見て下方向に移動します。
内部的にはカメラの目標点を Y 軸に沿って -1.0 することと同等です。

### 左に移動

カメラの目標点を正面から見て左方向に移動します。
内部的にはカメラの目標点を X 軸に沿って -1.0 することと同等です。

### 右に移動

カメラの目標点を正面から見て右方向に移動します。
内部的にはカメラの目標点を X 軸に沿って +1.0 することと同等です。

### カメラ視点をリセット

カメラを初期状態にリセットします。内部的には目標点を (X=0.0, Y=10.0, 0.0) に移動し、
カメラアングルをゼロにした上で視野角を 30 度に、視野距離を 50.0 にすることと同等です。

## カメラタブ

カメラタブではプリセットからの選択とカメラを数値指定で変更することができます。

### プリセット

プリセットでは６つのボタンがあり、プリセットの値に従ってカメラアングルを変更します。
このうち「カメラ」のみは現在のカメラのキーフレームの値に変更し、
それ以外はカメラアングルのみを変更します。

 * 前面
 * 背面
 * トップ
 * 左
 * 右
 * カメラ

### 数値指定

数値指定ではカメラ操作を数値に従って直接変更できる機能です。回転は度数単位で変更します。

 * 位置
 * 回転
 * 視野角 (fovy)
 * 視野距離 (distance)
 
# キーフレーム

キーフレームはモーションの最小単位です。複数のキーフレームによって、モーションが成立します。
キーフレームの操作はメニューの「編集」と「キーフレーム」で行うことが出来ます。

キーフレームは場面、ボーン、モーフの３種類あり、「タイムライン」タブの上部の「場面」、
「ボーン」、「モーフ」がそれぞれ対応します。

キーフレームを編集するにはモデルが読み込まれ、かつモーションを編集する対象のモデルが
選択状態にある必要があります。

## キーフレームの登録

モデルを動かしたらキーフレームを登録する必要があります。キーフレームの登録方法は２つあります。
どちらの方法も現在選択中のタブのタイムライン中の選択された範囲に対してキーフレームが登録されます。

 * 「フレームの位置」横による「登録」を押す
 * メニューの「編集」の「キーフレームを登録」を選択
 
 キーフレームを登録しないままフレームの位置を移動すると前のキーフレームの位置で編集した内容が破棄されます。
 編集した内容をモーションに反映させる場合は必ずキーフレームの登録を行ってください。
 
## キーフレームの編集

以下はメニューの「編集」にあるものです。

### コピー

現在の「フレームの位置」にあるキーフレームをコピーします。前回コピーされたキーフレームは破棄されます。

### ペースト

「コピー」でコピーしたキーフレームを現在の「フレームの位置」にペーストします。すでに登録されている
キーフレームがある場合は上書きされます。

### 反転ペースト

「ペースト」に加えて、ボーン名に「左」または「右」が含まれている場合位置と回転を反転させてペーストします。

### 元に戻す (アンドゥ)

### やり直す (リドゥ)

以下はメニューの「キーフレーム」にあるものです。

### すべてのキーフレームを選択

タイムライン中にある登録済みの全てのキーフレームを選択します。

### キーフレーム範囲選択ダイアログを開く

登録されたキーフレームを範囲選択するためのダイアログを開きます。

### キーフレームの重み係数設定ダイアログを開く

選択されたキーフレームに対して重みをつけて登録するためのダイアログを開きます。
これは現在選択されているタブによって設定項目が変わります。

#### ボーン

ボーンの場合は以下の６項目を設定することが出来ます。デフォルトはいずれも 1.0 です。

 * 位置X軸
 * 位置Y軸
 * 位置Z軸
 * 回転X軸
 * 回転Y軸
 * 回転Z軸

#### モーフ

モーフの場合は重み係数のみ設定できます。デフォルトは 1.0 です。

 * 重み係数

#### 場面

現在この操作はサポートされていません。

# ポーズ

ポーズは拡張子 vpd がつくファイルのことです。
ポーズはキーフレームのまとまりでもあります。

## ポーズを読み込む方法

ポーズファイルを読み込むにはまず対象のモデルを予め選択しておく必要があります。
次にメニューの「ファイル」の「モデルのポーズ読み込み」を選択し、vpd ファイルを指定して読み込みます。

ポーズファイルはポーズファイルにあるボーン名とモデルにあるボーン名と一致したものだけが設定されます。
一致しないものは無視され、設定されません。また、現時点で拡張形式に対応していないため、
モーフは読み込まれません。

## ポーズを保存する方法

ポーズファイルを保存するにはまず対象のモデルを予め選択し、保存したいフレーム位置を指定する必要があります。
次にメニューの「ファイル」の「モデルのポーズ保存」を選択し、書き出し先のパスを指定します。

ポーズ保存される際現在のフレーム位置にある全ての登録されたキーフレームが書き出されます。

# ファイル出力

ファイル出力は場面を静止画または動画として出力する機能です。

## 静止画出力

静止画出力はメニューの「ファイル」の「場面を画像として出力」で行うことができます。
実行するとファイルダイアログが出るので、出力するファイルパスを指定します。
基本的に拡張子は png が指定されますが、bmp でも jpg でも可能です。

実行すると現在の場面を静止画として出力します。

## 動画出力

動画出力はメニューの「ファイル」の「場面を動画として出力」で行うことができます。
実行するとまず動画出力設定のダイアログ、次にファイルダイアログが出て動画出力が開始されます。

一度動画出力処理が実行されると、キャンセルが行われるまで終了せず、操作を行うことが出来ません。
また、途中でキャンセルすると途中まで出力した動画が書きだされます。

出力される動画の特性は以下のとおりです。

 * フォーマットは MOV で出力される
 * コーデックは PNG で出力される
 * 音声を含む場合は音声コーデックに PCM (2ch/44KHz) が使用される
 * ほぼ生で出力されるため、ファイルサイズが非常に大きい
   * 数十秒であっても設定次第では1GB弱の容量を食う
   * そのままでは大きすぎるので、動画のエンコード必須

出力された動画は MacOSX では iMovie で扱うことができます。

### 動画出力設定

動画出力設定は再生設定と以下の点で共通なため、説明を割愛します。

 * 音声ファイル指定
 * フレーム開始位置
 * フレーム終了位置
 * 場面の FPS

#### 横(px)

出力する動画の横幅をピクセル単位で指定します。最小は 160px です。

#### 縦(px)

出力する動画の縦幅をピクセル単位で指定します。最小は 160px です。

#### グリッドを含める

動画出力時にグリッドを含めるかどうかを指定します。デフォルトは無効です。

