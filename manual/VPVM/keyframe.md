---
layout: page
title: "キーフレーム"
description: ""
group: manual
---
{% include JB/setup %}

キーフレームはモーションの最小単位です。複数のキーフレームによって、モーションが成立します。キーフレームの操作はメニューの「編集」と「キーフレーム」で行うことが出来ます。キーフレームは場面、ボーン、モーフの３種類あり、「タイムライン」タブの上部の「場面」、「ボーン」、「モーフ」がそれぞれ対応します。

キーフレームを編集するにはモデルが読み込まれ、かつモーションを編集する対象のモデルが選択状態にある必要があります。

1. キーフレームの登録
---------------------

モデルを動かしたらキーフレームを登録する必要があります。キーフレームの登録方法は２つあります。どちらの方法も現在選択中のタブのタイムライン中の選択された範囲に対してキーフレームが登録されます。

 * 1. ツールバーの「キーフレームの登録」を押す
 * 2.「フレームの位置」横による「登録」を押す
 * 3. メニューの「キーフレーム」の「キーフレームを登録」を選択
 
キーフレームを登録しないままフレームの位置を移動すると前のキーフレームの位置で編集した内容が破棄されます。編集した内容をモーションに反映させる場合は必ずキーフレームの登録を行ってください。

キーフレームの登録はメニューの「編集」にある「元に戻す」を選択することによって前の状態に巻き戻すことが出来ます。また、「やり直す」を選択すると「元に戻す」で行った状態を破棄してキーフレームを登録した状態に戻すことができます。
 
2. キーフレームの削除
---------------------

キーフレームの削除方法は２つあります。どちらの方法も選択されたキーフレームを削除します。仕様上０番目のキーフレームは編集出来ても削除することができません。

 * 1. ツールバーの「キーフレームの削除」を押す
 * 2. メニューの「キーフレーム」の「選択されたキーフレームを削除」を選択
 * 3. タイムラインを右クリックすることによって表示されるメニューの「選択されたキーフレームを削除」を選択
 
キーフレームの削除はメニューの「編集」にある「元に戻す」を選択することによって前の状態に巻き戻すことが出来ます。また、「やり直す」を選択すると「元に戻す」で行った状態を破棄してキーフレームを削除した状態に戻すことができます。

3. キーフレームの編集（「編集」メニューにあるもの）
--------------------------------------------------

以下はメニューの「編集」にあるものです。

### 3.1 コピー

現在の「フレームの位置」にあるキーフレームをコピーします。前回コピーされたキーフレームは破棄されます。

### 3.2 ペースト

「コピー」でコピーしたキーフレームを現在の「フレームの位置」にペーストします。すでに登録されているキーフレームがある場合は上書きされます。

### 3.3 反転ペースト

「ペースト」に加えて、ボーン名に「左」または「右」が含まれている場合位置と回転を反転させてペーストします。

### 3.4 元に戻す (アンドゥ)

前回の処理に戻します。ボーンやモーフの変更を行うと実行できます。元に戻す回数に制限はついていません。

### 3.5 やり直す (リドゥ)

「元に戻す」前の処理に戻します。「元に戻す」処理の逆を行います。

4. キーフレームの編集（「キーフレーム」メニューにあるもの）
----------------------------------------------------------

以下はメニューの「キーフレーム」にあるものです。

### 4.1 キーフレームの登録

タイムライン上で選択されたフレーム（※キーフレームではないです！）をキーフレームとして登録します。

### 4.2 キーフレームの削除

タイムライン上で選択されたキーフレームを削除します。

### 4.3 すべてのキーフレームを選択

タイムライン中にある登録済みの全てのキーフレームを選択します。

### 4.4 キーフレーム範囲選択ダイアログを開く

登録されたキーフレームを範囲選択するためのダイアログを開きます。

### 4.5 キーフレームの重み係数設定ダイアログを開く

選択されたキーフレームに対して重みをつけて登録するためのダイアログを開きます。これは現在選択されているタブによって設定項目が変わります。

#### 4.5.1 ボーン

ボーンの場合は以下の６項目を設定することが出来ます。デフォルトはいずれも 1.0 です。

 * 1\. 位置X軸
 * 2\. 位置Y軸
 * 3\. 位置Z軸
 * 4\. 回転X軸
 * 5\. 回転Y軸
 * 6\. 回転Z軸

#### 4.5.2 モーフ

モーフの場合は重み係数のみ設定できます。デフォルトは 1.0 です。

 * 1. 重み係数

#### 4.5.3 場面

現在この操作はサポートされていません。

### 4.6 ボーンの X 位置を 0 にする

選択されたボーンの X 軸の位置を 0 にリセットします。それ以外の軸 (Y/Z) は変更されません。

### 4.7 ボーンの Y 位置を 0 にする

選択されたボーンの Y 軸の位置を 0 にリセットします。それ以外の軸 (X/Z) は変更されません。

### 4.8 ボーンの Z 位置を 0 にする

選択されたボーンの Z 軸の位置を 0 にリセットします。それ以外の軸 (X/Y) は変更されません。

### 4.9 全てのボーンの位置と回転をリセットする

「全ての」ボーンの位置と回転をゼロにリセットし、モデル追加時の状態に戻します。

### 4.10 ボーンダイアログを開く

選択されたボーンの位置と回転量を数値指定するためのダイアログを開きます。位置と回転量いずれもグローバル変形として処理されます。0.26.0 では値の増加単位量を変更するための数値指定が新たに追加されています。

